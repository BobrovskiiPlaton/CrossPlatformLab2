<!DOCTYPE html>
<html>
<head>
    <title>Lesson 4</title>
    <meta charset="UTF-8"/>

    <script src="./index.js" type="module"></script>
</head>

<body>
<h1>Implement the symbolic diff here</h1>
<div id="container">
    <div style="margin: 20px 0;">
        <input type="text" id="functionInput" placeholder="Enter function like: x^2" style="padding: 5px;">
        <input type="text" id="variableInput" placeholder="Variable (x)" style="padding: 5px; width: 60px;">
        <button id="diffButton">Differentiate</button>
        <div id="result" style="margin-top: 10px;"></div>
    </div>
</div>
<div>
    <button id="demoButton">
        Add something
    </button>
</div>

<script>
    // Проверка - если модуль не загрузился, добавляем обработчики здесь
    console.log("HTML loaded");
    
    // Проверяем, есть ли обработчики через 2 секунды
    setTimeout(() => {
        const demoBtn = document.getElementById('demoButton');
        const diffBtn = document.getElementById('diffButton');
        
        if (!demoBtn.onclick) {
            console.log("Adding fallback handler for demoButton");
            demoBtn.onclick = function() {
                const div = document.createElement('div');
                div.innerHTML = "Fallback: Button works!";
                document.getElementById('container').appendChild(div);
            };
        }
        
        if (!diffBtn.onclick) {
            console.log("Adding fallback handler for diffButton");
            diffBtn.onclick = function() {
                document.getElementById('result').innerHTML = 
                    "Fallback: Differentiation would work here";
            };
        }
    }, 2000);
</script>
</body>
</html>